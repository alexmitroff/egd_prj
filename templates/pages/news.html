{% extends 'base/base.html' %}
{% load staticfiles i18n %}
{% block title %}{% trans 'Новости' %} | {% endblock %}

{% block top-carousel %}
            {% include "include/news-carousel.html" %}
{% endblock %}

{% block content %}
    <div class="news">
        <div class="filters">
            <form id="feed-filters">
                <input id="c-all" type="radio" name="filter" value="all" checked>
                <label for="c-all">{% trans 'Все' %}</label>
            {% for category in categories %}
                <input id="c-{{category.id}}" type="radio" name="filter" value="{{category.id}}">
                <label style="border-bottom-color:{{category.color}};" for="c-{{category.id}}">{{category.name_ru}}</label>
            {% empty %}
            {% endfor %}
            </form>
        </div>
        <div class="feed"></div>
    </div>
{% endblock %}
{% block templates %}
{% include "jsrender/news.html" %}
{% endblock %}
{% block scripts %}
<script type="text/javascript" src="{% static 'js/jsrender.min.js' %}"></script>
{% endblock %}
{% block backscriptbody %}
{% endblock %}
{% block docready %}
		$.views.settings.delimiters("@%","%@");
        updateFeed();
        $('input[type=radio]').change(function(){
            updateFeed($(this).val());
        });
        $('#featured').slick({
            slidesToShow: 1,
            slidesToScroll: 1,
            dots:true,
            arrows:false,
            infinite: true,
        });
{% endblock %}
